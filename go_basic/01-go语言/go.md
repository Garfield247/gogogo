# go
> Less can be more

## 特点
1. 并发编程
***高并发是golang最大的亮点!**
语言级别提供关键字(go)用于启动协程,并且一台机器可以启动成千上万的协程.协程常被理解为轻量级线程,一个线程可以包含多个协程,共享堆不共享栈.协程之间一般由应用程序显式实现调度,上下文切换无需下到内核层,高效!协程之间一般不做同步通讯,golang中实现协程间通讯有两种:1)内存共享型,即使用全局变量+互斥锁(mutex)实现数据共享;2)消息传递型,即使用一种独有的channel机制进行异步通讯.
2. 内存回收
内存自动回收,只需要new分配内存,不需要释放.
3. 内存分配
初始化阶段直接分配一块大内存区域,大内存被切分成各个大小等级的块,放入不同的空闲list中,对象分配空间时从空闲list中取出大小合适的内存块.内存回收时,会把不应的内存重新放回到空闲的list.空闲内存会按照一定策略合并,以减少碎片.
4. 编译
一种是建立在GCC基础上的Gccgo，另外一种是分别针对64位x64和32位x86计算机的一套编译器(6g和8g)。编译时会默认检查代码中所有实体的使用情况，凡是没使用到的package或变量，都会编译不通过。
5. 网络编程
**高性能HTTP Server**
由于golang诞生在互联网时代，因此它天生具备了去中心化、分布式等特性，具体表现之一就是提供了丰富便捷的网络编程接口，比如socket用net.Dial(基于tcp/udp，封装了传统的connect、listen、accept等接口)、http用http.Get/Post()、rpc用client.Call('class_name.method_name', args, &reply)，等等。
6. 函数多返回值
数定义时可以在入参后面再加(a,b,c)，表示将有3个返回值a、b、c。这个特性在很多语言都有，比如python。
7. 语言交互性
语言交互性指的是本语言是否能和其他语言交互，比如可以调用其他语言编译的库。

8. 异常处理
golang不支持`try...catch`这样的结构化的异常解决方式，因为觉得会增加代码量，且会被滥用，不管多小的异常都抛出。golang提倡的异常处理方式是：

    - 普通异常：被调用方返回error对象，调用方判断error对象。
    - 严重异常：指的是中断性panic（比如除0），使用defer...recover...panic机制来捕获处理。严重异常一般由golang内部自动抛出，不需要用户主动抛出，避免传统try...catch写得到处都是的情况。当然，用户也可以使用panic('xxxx')主动抛出，只是这样就使这一套机制退化成结构化异常机制了。
9. 类型推导
类型推导：类型定义：支持`var abc = 10`这样的语法，让golang看上去有点像动态类型语言，但golang实际上时强类型的，前面的定义会被自动推导出是int类型。
10. 不能循环引用
即如果a.go中import了b，则b.go要是import a会报import cycle not allowed。
11. defer机制
在Go语言中，提供关键字defer，可以通过该关键字指定需要延迟执行的逻辑体，即在函数体return前或出现panic时执行。这种机制非常适合善后逻辑处理，比如可以尽早避免可能出现的资源泄漏问题。
12. '包'的概念
和python一样，把相同功能的代码放到一个目录，称之为包。包可以被其他包引用。main包是用来生成可执行文件，每个程序只有一个main包。包的主要用途是提高代码的可复用性。通过package可以引入其他包。
13. 编程规范
O语言的编程规范强制集成在语言中，比如明确规定花括号摆放位置，强制要求一行一句，不允许导入没有使用的包，不允许定义没有使用的变量，提供gofmt工具强制格式化代码等等。
14. 交叉编译
可以在运行 Linux 系统的计算机上开发运行 Windows 下运行的应用程序。
